﻿@model IEnumerable<EnglishCoucil.Models.ViewAllCouceClass>

    @{
        ViewBag.Title = "AllCource";
        Layout = "~/Views/Shared/_Layout.cshtml";
    }
    <!-- Header Start -->
    <div class="jumbotron jumbotron-fluid page-header position-relative overlay-bottom" style="margin-bottom: 90px;">
        <div class="container text-center py-5">
            <h1 class="text-white display-1">Our Cource</h1>
            <div class="d-inline-flex text-white mb-5">
                <p class="m-0 text-uppercase"><a class="text-white" href="@Url.Action("Index", "Home", null , Request.Url.Scheme)">Home</a></p>
                <i class="fa fa-angle-double-right pt-1 px-3"></i>
                <p class="m-0 text-uppercase">Our Cource</p>
            </div>
        </div>
    </div>
    <!-- Header End -->
    <div class="row justify-content-center">
        @foreach (var item in Model)
        {
            <div class="col-lg-4 mt-5 mt-lg-0">
                <div class="bg-primary mb-5 py-3">
                    <h3 class="text-white py-3 px-4 m-0">Cource</h3>
                    <div class="d-flex justify-content-between border-bottom px-4">
                        <h6 class="text-white my-3">Class name</h6>
                        <h6 class="text-white my-3">@Html.DisplayFor(modelItem => item.TenLopHoc)</h6>
                    </div>
                    <div class="d-flex justify-content-between border-bottom px-4">
                        <h6 class="text-white my-3">Cource name</h6>
                        <h6 class="text-white my-3">@Html.DisplayFor(modelItem => item.TenChuongTrinh)</h6>
                    </div>
                    <div class="d-flex justify-content-between border-bottom px-4">
                        <h6 class="text-white my-3">Duration</h6>
                        <h6 class="text-white my-3">
                            @Html.DisplayFor(modelItem => item.ThoiLuong) Month
                        </h6>
                    </div>
                    <div class="d-flex justify-content-between border-bottom px-4">
                        <h6 class="text-white my-3">Sessions</h6>
                        <h6 class="text-white my-3">
                            @Html.DisplayFor(modelItem => item.SoBuoiHoc) Session/ Week
                        </h6>
                    </div>
                    <div class="d-flex justify-content-between px-4">
                        <h6 class="text-white my-3">Description</h6>
                        <h6 class="text-white my-3">
                            @Html.DisplayFor(modelItem => item.MoTa)
                        </h6>
                    </div>
                    <div class="d-flex justify-content-between px-4">
                        <h6 class="text-white my-3">Status</h6>
                        @if (@item.Count < 30)
                        {
                            <h6 class="text-white my-3">
                                @item.Count /@item.SoLuong Slots
                            </h6>
                        }
                        else
                        {
                            <h6 class="text-white my-3">
                                Class full
                            </h6>
                        }

                    </div>
                    <h5 class="text-white py-3 px-4 m-0">Course Price: @Html.DisplayFor(modelItem => item.GiaTien) VND</h5>
                    @if (Session["IDlh"] == null)
                    {
                        <div class="py-3 px-4">
                            <a class="btn btn-block btn-secondary py-3 px-5" href="@Url.Action("EnrollStudy", "User", new { IDtk = Session["IDtk"],IDlh = item.IDLopHoc}, Request.Url.Scheme)">Enroll Now</a>
                        </div>
                    }
                    else if (Session["IDlh"] == null && @item.Count >= 30)
                    {
                        <div class="py-3 px-4">
                        </div>
                    }
                    else
                    {
                        <div class="py-3 px-4 alert alert-warning" style="text-align:center;">
                            <b> Already in class</b>
                        </div>
                    }


                </div>
            </div>
        }
    </div>